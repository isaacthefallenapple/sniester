<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Main</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <script src="dist/main.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Azeret+Mono:wght@100..900&family=Passion+One:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="icon"
      href="https://www.sniester.nl/wp-content/uploads/2021/06/cropped-sniester_cat-1-32x32.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      href="https://www.sniester.nl/wp-content/uploads/2021/06/cropped-sniester_cat-1-192x192.png"
      sizes="192x192"
    />
    <link
      rel="apple-touch-icon"
      href="https://www.sniester.nl/wp-content/uploads/2021/06/cropped-sniester_cat-1-180x180.png"
    />
  </head>
  <body>
    <div class="app"></div>
    <script>
      const friday = [
        {
          name: "YO DIABLO",
          venue: "DE POOT",
          starttime: "2025-05-23T18:00:00",
          endtime: "2025-05-23T19:00:00",
        },
        {
          name: "ELECTRIC EEL SHOCK",
          venue: "DE POOT",
          starttime: "2025-05-23T20:00:00",
          endtime: "2025-05-23T21:00:00",
        },
        {
          name: "PARKER FANS",
          venue: "DE POOT",
          starttime: "2025-05-23T22:00:00",
          endtime: "2025-05-23T23:00:00",
        },
        {
          name: "BIKINI BEACH",
          venue: "ZWARTE RUITER",
          starttime: "2025-05-23T18:15:00",
          endtime: "2025-05-23T19:00:00",
        },
        {
          name: "SUCK",
          venue: "ZWARTE RUITER",
          starttime: "2025-05-23T19:45:00",
          endtime: "2025-05-23T20:30:00",
        },
        {
          name: "SOAPBOX",
          venue: "ZWARTE RUITER",
          starttime: "2025-05-23T21:15:00",
          endtime: "2025-05-23T22:00:00",
        },
        {
          name: "STATE POWER",
          venue: "ZWARTE RUITER",
          starttime: "2025-05-23T22:45:00",
          endtime: "2025-05-23T23:30:00",
        },
        {
          name: "BOMBSTRAP",
          venue: "ZWARTE RUITER",
          starttime: "2025-05-24T00:15:00",
          endtime: "2025-05-24T01:00:00",
        },
        {
          name: "BUG",
          venue: "CONCORDIA",
          starttime: "2025-05-23T18:00:00",
          endtime: "2025-05-23T18:45:00",
        },
        {
          name: "MOULD",
          venue: "CONCORDIA",
          starttime: "2025-05-23T19:30:00",
          endtime: "2025-05-23T20:15:00",
        },
        {
          name: "CASTLE RAT",
          venue: "CONCORDIA",
          starttime: "2025-05-23T21:00:00",
          endtime: "2025-05-23T21:45:00",
        },
        {
          name: "THE OOZES",
          venue: "CONCORDIA",
          starttime: "2025-05-23T22:30:00",
          endtime: "2025-05-23T23:15:00",
        },
        {
          name: "TEST PLAN",
          venue: "CONCORDIA",
          starttime: "2025-05-24T00:00:00",
          endtime: "2025-05-24T00:45:00",
        },
        {
          name: "GREEN MILK FROM THE PLANET ORANGE",
          venue: "THE GREY SPACE",
          starttime: "2025-05-23T18:30:00",
          endtime: "2025-05-23T19:15:00",
        },
        {
          name: "DAUFODT",
          venue: "THE GREY SPACE",
          starttime: "2025-05-23T20:00:00",
          endtime: "2025-05-23T20:45:00",
        },
        {
          name: "CURSELIFTER",
          venue: "THE GREY SPACE",
          starttime: "2025-05-23T21:30:00",
          endtime: "2025-05-23T22:15:00",
        },
        {
          name: "PRINS S. EN DE GEIT",
          venue: "THE GREY SPACE",
          starttime: "2025-05-23T23:00:00",
          endtime: "2025-05-23T23:45:00",
        },
        {
          name: "AFFAIRE",
          venue: "THE GREY SPACE",
          starttime: "2025-05-24T00:30:00",
          endtime: "2025-05-24T01:15:00",
        },
        {
          name: "MANTRA MACHINE",
          venue: "PAARD CAFE",
          starttime: "2025-05-23T17:30:00",
          endtime: "2025-05-23T18:15:00",
        },
        {
          name: "SOUNDS MINT",
          venue: "PAARD CAFE",
          starttime: "2025-05-23T19:00:00",
          endtime: "2025-05-23T19:45:00",
        },
        {
          name: "FIEP",
          venue: "PAARD CAFE",
          starttime: "2025-05-23T20:30:00",
          endtime: "2025-05-23T21:15:00",
        },
        {
          name: "BOSKAT",
          venue: "PAARD CAFE",
          starttime: "2025-05-23T22:15:00",
          endtime: "2025-05-23T23:00:00",
        },
        {
          name: "PETER XAN",
          venue: "PAARD CAFE",
          starttime: "2025-05-23T23:45:00",
          endtime: "2025-05-24T00:30:00",
        },
        {
          name: "LAURIE WRIGHT",
          venue: "PAARD KLEINE ZAAL",
          starttime: "2025-05-23T19:30:00",
          endtime: "2025-05-23T20:30:00",
        },
        {
          name: "BILK",
          venue: "PAARD KLEINE ZAAL",
          starttime: "2025-05-23T21:30:00",
          endtime: "2025-05-23T22:30:00",
        },
        {
          name: "JOOLS",
          venue: "PAARD KLEINE ZAAL",
          starttime: "2025-05-23T23:30:00",
          endtime: "2025-05-24T00:30:00",
        },
        {
          name: "RAMKOT",
          venue: "PAARD GROLSH ZAAL",
          starttime: "2025-05-23T20:30:00",
          endtime: "2025-05-23T21:30:00",
        },
        {
          name: "SOFT PLAY",
          venue: "PAARD GROLSH ZAAL",
          starttime: "2025-05-23T22:30:00",
          endtime: "2025-05-23T23:30:00",
        },
        {
          name: "ALPHA RATS",
          venue: "KOORENHUIS FOYER",
          starttime: "2025-05-23T18:15:00",
          endtime: "2025-05-23T19:00:00",
        },
        {
          name: "THE 113",
          venue: "KOORENHUIS FOYER",
          starttime: "2025-05-23T19:45:00",
          endtime: "2025-05-23T20:00:00",
        },
        {
          name: "THE 114",
          venue: "KOORENHUIS FOYER",
          starttime: "2025-05-23T19:45:00",
          endtime: "2025-05-23T20:15:00",
        },
        {
          name: "THE 115",
          venue: "KOORENHUIS FOYER",
          starttime: "2025-05-23T19:45:00",
          endtime: "2025-05-23T20:30:00",
        },
        {
          name: "BB & BINKIE BOYS",
          venue: "KOORENHUIS FOYER",
          starttime: "2025-05-23T21:15:00",
          endtime: "2025-05-23T22:00:00",
        },
        {
          name: "LEZARD",
          venue: "KOORENHUIS FOYER",
          starttime: "2025-05-23T22:45:00",
          endtime: "2025-05-23T23:30:00",
        },
        {
          name: "BLACK LEATHER JACKET",
          venue: "KOORENHUIS",
          starttime: "2025-05-23T19:00:00",
          endtime: "2025-05-23T19:45:00",
        },
        {
          name: "SLOW CRUSH",
          venue: "KOORENHUIS",
          starttime: "2025-05-23T20:30:00",
          endtime: "2025-05-23T21:15:00",
        },
        {
          name: "AKDK",
          venue: "KOORENHUIS",
          starttime: "2025-05-23T22:15:00",
          endtime: "2025-05-23T23:00:00",
        },
      ];
    </script>
    <script src="./saturday.js"></script>
    <script>
      const popup = [
        {
          name: "ALOYSE",
          venue: "KOMPAAN BINNENHAVEN",
          starttime: "2025-05-23T15:00:00",
          endtime: "2025-05-23T15:30:00",
        },
        {
          name: "PYKE",
          venue: "KOMPAAN BINNENHAVEN",
          starttime: "2025-05-23T17:00:00",
          endtime: "2025-05-23T17:30:00",
        },
        {
          name: "SURFER ROSA",
          venue: "SKATESTORE",
          starttime: "2025-05-23T14:00:00",
          endtime: "2025-05-23T14:30:00",
        },
        {
          name: "CHET",
          venue: "SKATESTORE",
          starttime: "2025-05-23T16:15:00",
          endtime: "2025-05-23T16:45:00",
        },
        {
          name: "DJANI",
          venue: "BUYA BOUTIQUE",
          starttime: "2025-05-23T13:30:00",
          endtime: "2025-05-23T14:00:00",
        },
        {
          name: "SKYAA",
          venue: "BUYA BOUTIQUE",
          starttime: "2025-05-23T15:30:00",
          endtime: "2025-05-23T16:00:00",
        },
        {
          name: "MOSES ITCH",
          venue: "SQUARE EIGHT VINTAGE",
          starttime: "2025-05-23T14:30:00",
          endtime: "2025-05-23T15:00:00",
        },
        {
          name: "KRAM!",
          venue: "SQUARE EIGHT VINTAGE",
          starttime: "2025-05-23T16:00:00",
          endtime: "2025-05-23T16:30:00",
        },
        {
          name: "KLEINE OELEWAPPER",
          venue: "3345",
          starttime: "2025-05-23T14:00:00",
          endtime: "2025-05-23T14:30:00",
        },
        {
          name: "XCELIA",
          venue: "3345",
          starttime: "2025-05-23T15:30:00",
          endtime: "2025-05-23T16:00:00",
        },
        {
          name: "ZOEF",
          venue: "KUNSTBAR",
          starttime: "2025-05-23T14:45:00",
          endtime: "2025-05-23T15:15:00",
        },
        {
          name: "ISAI",
          venue: "KUNSTBAR",
          starttime: "2025-05-23T17:15:00",
          endtime: "2025-05-23T17:45:00",
        },
        {
          name: "DOLLY MIN",
          venue: "N&M TAPIJT, BOEKHORSTSTRAAT 45",
          starttime: "2025-05-23T14:00:00",
          endtime: "2025-05-23T14:30:00",
        },
        {
          name: "STIP",
          venue: "N&M TAPIJT, BOEKHORSTSTRAAT 45",
          starttime: "2025-05-23T16:00:00",
          endtime: "2025-05-23T16:30:00",
        },
        {
          name: "BLEEDROOT",
          venue: "N&M TAPIJT, BOEKHORSTSTRAAT 46",
          starttime: "2025-05-23T14:30:00",
          endtime: "2025-05-23T15:00:00",
        },
        {
          name: "INBRANDERS",
          venue: "N&M TAPIJT, BOEKHORSTSTRAAT 46",
          starttime: "2025-05-23T17:00:00",
          endtime: "2025-05-23T17:30:00",
        },
        {
          name: "SESAME",
          venue: "DE BOOMHUTTENCLUB",
          starttime: "2025-05-23T16:30:00",
          endtime: "2025-05-23T17:00:00",
        },
        {
          name: "PLATONIC SMILE",
          venue: "DE BOOMHUTTENCLUB",
          starttime: "2025-05-23T17:30:00",
          endtime: "2025-05-23T18:00:00",
        },
        {
          name: "TINKO & COOS",
          venue: "ZUSJES VINTAGE",
          starttime: "2025-05-23T13:00:00",
          endtime: "2025-05-23T13:30:00",
        },
        {
          name: "L'ORNE",
          venue: "ZUSJES VINTAGE",
          starttime: "2025-05-23T15:00:00",
          endtime: "2025-05-23T15:30:00",
        },
        {
          name: "FLIPPERKAST",
          venue: "MAD SCIENCE",
          starttime: "2025-05-23T13:30:00",
          endtime: "2025-05-23T14:00:00",
        },
        {
          name: "SNEURF",
          venue: "MAD SCIENCE",
          starttime: "2025-05-23T15:30:00",
          endtime: "2025-05-23T16:00:00",
        },
      ];
    </script>

    <script>
      const EVENTS_KEY = "events";
      const STORE_NAME = "data";
      var app;
      let db;
      const request = indexedDB.open("database");
      request.onerror = console.error;
      request.onsuccess = (e) => {
        db = e.target.result;
        db
          .transaction("data")
          .objectStore(STORE_NAME)
          .get(EVENTS_KEY).onsuccess = (e) => {
          app = Elm.Main.init({
            node: document.getElementById("app"),
            flags: {
              time: Date.now(),
              ...e.target.result,
            },
          });
          app.ports.setStorage.subscribe((data) => {
            const tx = db.transaction("data", "readwrite");
            tx.onsuccess = (e) => console.info("saved");
            tx.onerror = (e) =>
              console.error(`transaction failed: ${e.target.error}`);

            const store = tx.objectStore(STORE_NAME);
            store.put(data, EVENTS_KEY);
          });

          app.ports.scrollIntoView.subscribe((selector) => {
            const el = document.querySelector(selector);
            console.info(`scrolling into view: "${selector}"`);
            if (!el) {
              console.info("not found");
              return;
            }
            el.scrollIntoView({ behavior: "smooth", inline: "center" });
          });
        };
      };
      request.onupgradeneeded = (e) => {
        const db = e.target.result;
        const objectStore = db.createObjectStore("data");

        objectStore.transaction.oncomplete = (e) => {
          const dataStore = db
            .transaction("data", "readwrite")
            .objectStore("data");
          const events = {
            friday: friday,
            saturday: saturday,
            popup: popup,
          };
          dataStore.add(events, "events");
        };
      };
    </script>
  </body>
</html>
